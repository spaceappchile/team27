<!doctype html>
<html lang="en">
<head>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://code.highcharts.com/highcharts.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Space Dashboards</title>  
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link href="favicon.ico" rel="shortcut icon"/>
  <link rel="stylesheet" href="css/style.css"/>

  <script type="text/javascript">
$(function () { 
	var chart1 = new Highcharts.Chart({
        chart: {
				renderTo: 'container',
            type: 'column'
        },
        title: {
            text: 'Errores en rango de tiempo'
        },
        xAxis: {
            categories: ['00:00', '12:00', '23:59']
        },
        yAxis: {
            title: {
                text: 'N° de Errores'
            }
        },
        series: [{
            name: 'Cantidad de errores',
            data: [2, 1, 4]
        }],
		  plotOptions: {
                column: {
                    events: {
                        click: function(event) {
                           chart1.series[0].setData([3, 2, 4, 5]);
									chart1.xAxis[0].categories = ['00:00', '08:00', '16:00', '23:59'];
									chart1.redraw();
                        }
                    }                   
                }
            }
	});

});

function ws_geterrors(inicio, termino) {
	//llama al ws para obtener los errores, y se envía el array de objetos
	var errores = new Array();

	return errores;
}

function ws_geterrorscount(inicio, termino) {
	var count = 0;
	//llama al ws para obtener los errores, y al final se cuentan y se envían
	
	return count;
}

function actualiza(){	
		//get categories
		var inicio = $('#inicio').value();
		var termino = $('#termino').value();
		var delta = $('#delta').value;
		var intervalo_min = (termino - inicio)*60;
		var cat = array();
		var dat =array();
		for (i=0; i<intervalo_min; i=i+delta){
			var catStr = '';
			var hora = inicio;
			if (i<10){
				var catStr = ''+inicio+':0'+i;
			}
			else if (i>10 && i<60){
				var catStr = ''+inicio+':'+i;
			}
			else if (i>60){
				if (i%60<10){
					var catStr = ''+(inicio + i/60)+':0'+i%60;
				} else {
					var catStr = ''+(inicio + i/60)+':'+i%60;
				}
			}

			cat.push(catStr);
			//dat.push(ws_geterrorscount(catStr));
		}
		//get data
		dat=[3, 2, 4, 5]; //dato duro mientras se lanza ws, hecho para actualizar con solo 4 barras!!!!

	var chart1 = new Highcharts.Chart({
        chart: {
				renderTo: 'container',
            type: 'column'
        },
        title: {
            text: 'Errores en rango de tiempo'
        },
        xAxis: {
            categories: ['00:00', '12:00', '23:59']
        },
        yAxis: {
            title: {
                text: 'N° de Errores'
            }
        },
        series: [{
            name: 'Cantidad de errores',
            data: [2, 1, 4]
        }],
		  plotOptions: {
                column: {
                    events: {
                        click: function(event) {
                           chart1.series[0].setData([3, 2, 4, 5]);
									chart1.xAxis[0].categories = cat;
									chart1.redraw();
                        }
                    }                   
                }
            }
	});

});
	
}
</script>
</head>

<body>
  <div class="container">

    <header class="header clearfix">
      <div class="logo"><h1>Space Dashboard</h1></div>

      <nav class="menu_main">
        <ul>
          <li class="active"><a href="#">Main</a></li>
          <li><a href="#">About Us</a></li>

        </ul>
      </nav>
    </header>


    <div class="info">

       


      <article class="article clearfix">
        <div class="col_33">
          <h2>Problema</h2>
          <p>Grandes cantidades de registros, aproximadamente 1000 por cada segundo.</p>
          <p>Dif&iacute;cil acceso dada su complejidad, al no haber un buen modelo de datos asociado a la informaci&oacute;n que se guarda en cada registro.</p>
          <p>Al tratar de detectar la causa de alg&uacute;n fallo o error, se puede llegar a requerir una hora o m&aacute;s para acceder y entender los logs, para finalmente encontrar la causa del mal funcionamiento de alg&uacute;n componente del complejo ALMA.</p>
        </div>

        <div class="col_33">
          <h2>Desaf&iacute;o SpaceApps</h2>
          <p>Tratar de lograr mayor eficiencia al detectar la causa de errores y fallos.</p>
          <p>Disminuir el tiempo empleado al buscar causas.</p>
          <p>Mayor complejidad: Entender los logs, su estructura y alternativas para recolectar los datos necesarios.</p>
          <p>Brecha t&eacute;cnica: Procesar 27Gb de logs diarios en el menor tiempo, utilizando peque&ntilde;as laptop.</p>
          <p>Soluci&oacute;n para 33 horas: Simplificar la recolecci&oacute;n de datos, sin perder posibilidades de escalabilidad, para mostrar capacidad de solucionar el problema presentado.</p>
        </div>

        <div class="col_33">
          <h2>Soluci&oacute;n</h2>
          <p>Sistema basado en Python para procesar los registros de eventos. De esa forma se reconocen patrones asociados a distintas etapas del ciclo de operaci&oacute;n de los arreglos de antenas.</p>
          <p>Se almacenan registros de errores para un ejemplo de análisis gráfico. Para esto se utiliza un sistema web que utiliza librerías Javascript de generación de distintos tipos de gráficos.</p>
        </div>

        <div class="clearfix"></div>


        <h1>Registro de errores</h1>
        
        <div class="col_50">
          <h2>Gr&aacute;fico de errores en durante el día</h2>
          
          <h3>elija el período de tiempo y el nivel de detalle del gráfico</h3>
          
			<form>
				<label for="rango">delta de tiempo:</label>
				<select id="rango" onchange="javascript:actualiza()">
				  <option value="1">1 min</option>
				  <option value="10">10 min</option>
				  <option value="30">30 min</option>
				  <option value="60">1 h</option>
				  <option value="120">2 h</option>
				</select> 
				<label for="inicio">Hora inicio:</label>
				<select id="inicio" onchange="javascript:actualiza()">
				  <option value="0">00:00</option>
				  <option value="1">01:00</option>
				  <option value="2">02:00</option>
				  <option value="3">03:00</option>
				  <option value="4">04:00</option>
				  <option value="5">05:00</option>
				  <option value="6">06:00</option>
				  <option value="7">07:00</option>
				  <option value="8">08:00</option>
				  <option value="9">09:00</option>
				  <option value="10">10:00</option>
				  <option value="11">11:00</option>
				  <option value="12">12:00</option>
				  <option value="13">13:00</option>
				  <option value="14">14:00</option>
				  <option value="15">15:00</option>
				  <option value="16">16:00</option>
				  <option value="17">17:00</option>
				  <option value="18">18:00</option>
				  <option value="19">19:00</option>
				  <option value="20">20:00</option>
				  <option value="21">21:00</option>
				  <option value="22">22:00</option>
				  <option value="23">23:00</option>
				</select> 
				<label for="termino">Hora t&eacute;rmino:</label>
				<select id="termino" onchange="javascript:actualiza()">
				  <option value="0">00:00</option>
				  <option value="1">01:00</option>
				  <option value="2">02:00</option>
				  <option value="3">03:00</option>
				  <option value="4">04:00</option>
				  <option value="5">05:00</option>
				  <option value="6">06:00</option>
				  <option value="7">07:00</option>
				  <option value="8">08:00</option>
				  <option value="9">09:00</option>
				  <option value="10">10:00</option>
				  <option value="11">11:00</option>
				  <option value="12">12:00</option>
				  <option value="13">13:00</option>
				  <option value="14">14:00</option>
				  <option value="15">15:00</option>
				  <option value="16">16:00</option>
				  <option value="17">17:00</option>
				  <option value="18">18:00</option>
				  <option value="19">19:00</option>
				  <option value="20">20:00</option>
				  <option value="21">21:00</option>
				  <option value="22">22:00</option>
				  <option value="23">23:00</option>
				</select> 
	
			 	<div id="container" style="width:100%; height:400px;"></div>
				<div id="tabla_errores">
				</div>
			</form>

          <!--h3>How to use?</h3>
          <ol>
             <li>Choose one skin from the list above</li>
             <li>Click download button</li>
             <li>Unpack files</li>
             <li>Make any customisation you need</li>
             <li>Upload your new site to the server</li>
          </ol-->
        </div>        

        <!--div class="col_50">
          <form action="#" method="post" class="form">
            <h2>Sample form</h2>

            <p class="col_50">
              <label for="name">Simple name:</label><br/>
              <input type="text" name="name" id="name" value="" />
            </p>
            <p class="col_50">
              <label for="email">Simple e-mail:</label><br/>
              <input type="text" name="email" id="email" value="" />
            </p>
            <div class="clearfix"></div>

            <h3>Your favorite number</h3>
            <p>
              <div class="col_33">
                <label for="radio-choice-1"><input type="radio" name="radio-choice-1" id="radio-choice-1" tabindex="2" value="choice-1" /> One</label><br/>
                <label for="radio-choice-2"><input type="radio" name="radio-choice-1" id="radio-choice-2" tabindex="3" value="choice-2" /> Two</label><br/>
                <label for="radio-choice-3"><input type="radio" name="radio-choice-1" id="radio-choice-3" tabindex="4" value="choice-3" /> Three</label>
              </div>

              <div class="col_33">
                <label for="radio-choice-4"><input type="radio" name="radio-choice-1" id="radio-choice-4" tabindex="2" value="choice-1" /> Four</label><br/>
                <label for="radio-choice-5"><input type="radio" name="radio-choice-1" id="radio-choice-5" tabindex="3" value="choice-2" /> Five</label><br/>
                <label for="radio-choice-6"><input type="radio" name="radio-choice-1" id="radio-choice-6" tabindex="4" value="choice-3" /> Six</label>
              </div>

              <div class="col_33">
                <label for="radio-choice-7"><input type="radio" name="radio-choice-1" id="radio-choice-7" tabindex="2" value="choice-1" /> Seven</label><br/>
                <label for="radio-choice-8"><input type="radio" name="radio-choice-1" id="radio-choice-8" tabindex="3" value="choice-2" /> Eight</label><br/>
                <label for="radio-choice-9"><input type="radio" name="radio-choice-1" id="radio-choice-9" tabindex="3" value="choice-2" /> Niine</label>
              </div>

            <div class="clearfix"></div>
            </p>

            <p>
              <label for="select-choice">Simple city:</label>
              <select name="select-choice" id="select-choice">
                <option value="Choice 1">London</option>
                <option value="Choice 2">Paris</option>
                <option value="Choice 3">Rome</option>
              </select>
            </p>

            <p>
              <label for="textarea">Simple testimonial:</label><br/>
              <textarea cols="40" rows="8" name="textarea" id="textarea"></textarea>
            </p>

            <p>
              <label for="checkbox"><input type="checkbox" name="checkbox" id="checkbox" /> Simple agreement</label><br/>
            </p>

            <div>
                <button type="button" class="button">Submit</button>
            </div>
          </form>
        </div>

        <div class="clearfix"></div>


        <div class="col_33">
          <h2>More elements</h2>

          <p>Use <code>strong</code> tag for information with <strong>strong importance</strong>. Use <code>em</code> tag to <em>stress emphasis</em> on a word or phrase.</p>

          <p class="warning">Sample <code>.warning</code></p>
          <p class="success">Sample <code>.success</code></p>
          <p class="message">Sample <code>.message</code></p>
        </div>

        <div class="col_66">
          <h2>CSS classes table</h2>

          <table class="table">
            <tr>
              <th>Class</th>
              <th>Description</th>
            </tr>

            <tr>
              <td><code>.col_33</code></td>
              <td>Column with 33% width</td>
            </tr>
            <tr>
              <td><code>.col_50</code></td>
              <td>Column with 50% width</td>
            </tr>
            <tr>
              <td><code>.col_66</code></td>
              <td>Column with 66% width</td>
            </tr>
            <tr>
              <td><code>.col_100</code></td>
              <td>Full width column with proper margins</td>
            </tr>
            <tr>
              <td><code>.clearfix</code></td>
              <td>Use after or wrap a block of floated columns</td>
            </tr>
            <tr>
              <td><code>.left</code></td>
              <td>Left text alignment</td>
            </tr>
            <tr>
              <td><code>.right</code></td>
              <td>Right text alignment</td>
            </tr>
            <tr>
              <td><code>.center</code></td>
              <td>Centered text alignment</td>
            </tr>
            <tr>
              <td><code>.img_floatleft</code></td>
              <td>Left alignment for images in content</td>
            </tr>
            <tr>
              <td><code>.img_floatright</code></td>
              <td>Right alignment for images in content</td>
            </tr>
            <tr>
              <td><code>.img</code></td>
              <td>Makes image change its width when browser window width is changed</td>
            </tr>
          </table>
        </div>

        <div class="clearfix"></div-->

      </article>
    </div>
    
    <!--footer class="footer clearfix">
      <div class="copyright">Keep it simplest</div>

      <nav class="menu_bottom">
        <ul>
          <li class="active"><a href="#">About</a></li>
          <li><a href="#">Skins</a></li>
          <li><a href="#">Samples</a></li>
        </ul>
      </nav>
    </footer-->

  </div>
</body>
</html>
